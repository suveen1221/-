---
### 인터럽트
---
인터럽트는 컴퓨터에 설정된 장치에서 프로세서로 보내는 하드웨어 신호다. 인터럽트를 받은 프로그램은 실행을 멈추고 다른 프로그램이 실행된다.

단일 프로세서 컴퓨터는 명령어를 한 번에 하나만 수행할 수 있지만, 인터럽트를 이용하면 다른 프로그램이나 명령어를 수행할 수 있다. 특히 시스템이 예측하지 못한 사용자 입력,갑작스런 정전,컴퓨터 시스템으로부터의 긴급 요청,잘못된 명령어 수행,입출력 작업 완료 같은 긴급 상황을 적절히 처리하기 위해서는 인터럽트가 필요하다.

인터럽트는 현재 실행 중인 프로그램의 수행을 요구하는 명령이다. 사용자 프로그램 관점에서 인터럽트는 프로그램의 정상 실행을 일시 정지시키는 과정과 다시 재개하는 과정의 연속으로 실행된다. 그러나 사용자 프로그램에 인터럽트를 위한 조치가 별도로 필요한 것은 아니다. 일련의 인터럽트 처리 과정은 프로세서와 운영체제가 담당하므로 앞서 살펴본 명령어 실행주기에 인터럽트 처리 루틴이 추가된다.

컴퓨터는 외부 장치의 동작과 자신의 동작을 조정할 수 있는 수단으로 인터럽트를 사용한다. 예를 들어, 다중 사용자 시스템에 키보드를 여러 개 연결하면 각 키보드에서 입력되는 문자를 구분하여 처리해야 한다. 여러 개 연결하면 각 키보드에서 입력되는 문자를 구분하여 처리해야 한다. 여러 키보드에서 같은 문자를 동시에 입력해도 데이터를 손실하지 않고 수행해야 하므로 컴퓨터는 해당 문자가 언제 입력되었는지 알아야 한다. 프린터도 마찬가지로 프린터가 문자를 출력할 준비가 되어야 컴퓨터가 프린터로 문자를 전송할 수 있다. 따라서 프로세서는 연결된 각 입출력장치의 현재 상태를 파악하고 있어야 하는데, 이 상태를 나타내기 위해 1비트 이상의 정보로 표현된 준비 비트 또는 상태 비트가 필요하다.

입출력장치가 새로운 입출력 연산을 수행하려고 하면, 프로세서는 먼저 폴링을 통해 각 장치의 상태 비트를 검사한다. 그런데 인터럽트 개념이 없으면 장치의 상태를 계속 계속 점검하는 과정이 필요해 프로세서가 다른 연산을 수행할 수 없으므로 오버헤드가 증가하여 수행시간이 낭비된다. 이럴 때 인터럽트를 사용하면 입출력 상태가 준비 상태가 될 때까지 프로세서가 다른 작업을 수행할 수 있다. 즉, 입출력장치가 준비 상태가 되었을 때 프로세서에 인터럽트 신호를 보냄으로써 이루어진다.

버스 제어선 중 하나를 이런 목적으로 사용하는데 이것을 인터럽트 요청 회선이라 한다. 인터럽트를 사용하면 키보드에서 입력이 발생했을 때만 프로세에 통보하여 처리하므로 프로세서가 이벤트 발생 여부를 일일히 감시하거나 조사하지 않아도 된다. 그리고 프로세서가 외부 장치의 상태를 직접 점검할 필요가 없어, 이 기간 동안 다른 연산을 수행하여 프로세서의 효율을 높일 수 있다.

인터럽트를 수행하려면 컴퓨터에서는 인터럽트 제어선을 제공하여 인터럽트 발생과 더불어 적절한 처리를 한다. 인터럽트는 크게 인터럽트 요청과 인터럽트 서비스 루틴으로 구성된다. 인터럽트 요청 신호에 의해 수행되는 루틴을 인터럽트 처리 프로그램, 즉 인터럽트 서비스 루틴이라 하며 인터럽트 발생 원인에 따라 적절한 처리 루틴을 수행한다.

인터럽트 요청 회선을 연결하는 방법은 단일 회선과 다중 회선이 있다. 단일 회선은 인터럽트 요청이 가능한 모든 장치를 공통으로 프로세서에 연결하는 방법이다. 이 방법은 회선 하나에 장치 인터페이스가 여러 개 연결되어 있기 때문에 어느 장치가 인터럽트를 요청하였는지를 바로 판별할 수 있다.

인터럽트 요청 신호가 발생하면 대부분의 컴퓨터는 정보를 단일 명령어로 저장할 수 있으므로 실행 중인 프로그램을 메모리에 저장하고 인터럽트 서비스 프로그램으로 분기한다. 그리고 인터럽트 루틴의 수행을 완료하면 인터럽트를 발생시킨 프로그램에 제어를 되돌려준다.

인터럽트는 서브 루틴 호출과 매우 유사하지만 일반적으로 서브 루틴은 자신을 호출한 프로그램이 요구한 기능을 수행하지만 인터럽트 서비스 루틴은 인터럽트가 발생했을 때 수행 중인 프로그램과 관련이 없을 수도 있다. 그러므로 인터럽트 서비스 루틴 수행 전에 프로세서는 중단된 프로그램으로 복귀한 후 수행에 영향을 미치는 정보를 저장해야 한다. 특히, 인터럽트가 발생할 때의 상태 코드를 저장해야 한다. 그리고 프로세서는 인터럽트 서비스 루틴에서 복귀했을 때 임시 기억 장소에 저장한 상태 워드를 다시 적재해야 한다. 이러한 과정을 통해 원래 프로그램은 인터럽트의 영향을 받지 않고 수행을 재개할 수 있다.

---



























