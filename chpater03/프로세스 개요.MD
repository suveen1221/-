---
### 프로세스 개념
---
프로세스(Process)라는 용어는 1960년대 멀틱스 시스템(Multics System)을 설계한 사람들이 처음 사용했다. 이후 작업(Task)이라는 용어와 함께 사용되었으며 다음과 같이 다양하게 정의되어 왔다.

- 실행 중인 프로그램

- 비동기적(Asynchronous)행위

- 실행 중인 프로시저

- 실행 중인 프로시저의 제어 추적

- 운영체제에 존재하는 PCB(Process Control Block,프로세스 제어 블록)

- 프로세서에 할당되어 실행될 수 있는 개체

- 디스패치(Dispatch)가 가능한 대상

프로세스에 대한 다양한 정의 중 가장 일반적인 것은 '실행 중인 프로그램'이다. 여기서 실행중인 프로그램이란 디스크에 저장되어 있던 실행 가능한 프로그램이 메모리에 적재되어 운영체제의 제어를 받는 상태를 말한다. 다시 말해, 해당 프로세스가 사용하고 있는 메모리 영역(자신의 주소 공간)이 존재함을 의미한다.

프로세스가 실행 중인 프로그램의 역할을 수행하려면 프로세서 할당(점유)시간과 메모리, 파일, 입출력장치 같은 자원이 필요한데, 자원은 프로세스가 생성되거나 실행될 때 할당된다. 또한 프로세스는 현재의 활동 상태를 나타내는 프로그램 카운터,프로세서의 현재 활동(레지스터 내용)도 포함한다. 프로그램이 텍스트(코드)부분만 갖는 수동적인 개체라면 프로세스는 주소 공간을 갖는 능동적인 개체다.

프로세스 주소 공간의 각 영역은 다음과 같은 역할을 한다.

- `실행 스택(Stack)`: 호출된 프로시저(함수)의 복귀 주소와 지역 변수처럼 일시적인 데이터를 저장하는 영역이다. 프로시저를 호출할수록 커지고 호출했던 프로시저를 반환할 때 줄어든다.

- `실행 힙(Heap)`: 텍스트(코드) 영역과는 별도로 유지되는 자유 영역이다. 프로그램 실행 중 시스템 호출을 통해 사용되다가 해지되는 등 자유자재로 사용할 수 있다.

- `데이터(정적변수)`: 프로세스 실행 중에 동적으로 할당받는 영역으로 전역 또는 정적 변수를 저장한다. 읽고 쓰기가 가능하다.

- `텍스트(코드)`: 프로세서가 실행하는 코드를 저장한다. 프로그램이 텍스트 영역을 침범하여 기록하려고 하면 오류가 발생하여 프로그램은 종료된다.

공용 프로그램인 데이터 베이스, 문서 편집기 등을 재진입 프로그램이라고 하는데, 이 프로그램들은 프로세스가 실행 중에 사용할 데이터를 보관하는 실행 스택과 공통적인 데이터를 보관하는 데이터 영역을 가진다. 그러므로 프로세스 두 개가 같은 문서 편집기 프로그램을 사용하면 이들은 별개의 프로세스로 인식된다. 텍스트(코드)영역은 같지만 별도의 스택에 서로 다른 데이터를 가지기 때문이다.

프로세스는 사용자 관점에서 세그먼트(코드,데이터,스택 등)의 가상 주소 공간을 갖는 실행 상태를 의미하고, 시스템 관점에서는 실행중인 프로그램을 의미한다.

프로세스는 처리 상태에 있는 데이터 구조로도 표현할 수 있다. 예를 들면 저장된 프로그램은 프로세서를 할당받아야 실행 상태의 프로세스가 된다. 프로세스의 실행 순서를 결정하는 스케줄러(디스패칭)에 의해 프로세서를 할당받고, 파일에 관련된 자원에 대한 참조(장치 관리,메모리 관리),프로세스 지원과 협력에 관한 정보(교착 상태,보호,동기화)교환 등을 한다. 그리고 프로세스와 관련된 연산으로는 생성,종료,보류,자원 할당,해제 등이 있다.

---
### 프로세스 종류
---
프로세스는 실행 유형에 따라 다음과 같이 크게 3가지로 구분하여 생각할 수 있다.

- 운영체제 프로세스

운영체제 프로세스는 프로세스 실행 순서를 제어하거나, 사용하고 있는 프로세스가 다른 사용자나 운영체제 영역을 침범하지 못하게 감시하는 기능을 담당한다. 또한 사용자 프로세스를 생성하거나 입출력 프로세스를 생성하는 등 시스템 운영에 필요한 작업을 수행한다. 커널 프로세스 또는 시스템 프로세스라고도 부른다.

- 사용자 프로세스

사용자 프로세스는 사용자 코드를 수행한다.

- 병행 프로세스

프로세스가 여러 개가 동시에 실행되면 병행 프로세스라고 부른다. 병행 프로세스는 서로 독립적으로 실행되는 독립 프로세스와 프로세스들이 서로 협력하며 수행되는 협동 프로세스로 구분된다.

`1.독립 프로세스`

운영체제에서 프로세스 여러 개가 병행하여 수행될 때 주어진 초깃값에 따라 항상 같은 결과를 보여주는 프로세스다. 즉, 한 프로세스가 시스템의 다른 프로세스에 영향을 주지 않거나 다른 프로세스에 의해 영향을 받지 않는다. 물론, 다른 프로세스와 데이터를 공유하지 않는다. 

`2.협동 프로세스`

독립 프로세스와 달리, 다른 프로세스에 영향을 주거나 다른 프로세스에 의해 영향을 받는 프로세스다. 주로 컴퓨터 시스템의 제한된 자원을 공유하는 프로세스들이 통제되어 상호 작용해야 하는 경우에 발생한다.

---
### 협동 프로세스
---
운영체제는 프로세스 실행을 제어하는 역할을 한다. 그런데 프로세스는 실행되면서 상태가 변하므로 운영체제는 프로세스 제어에 필요한 프로세스 상태를 점검해야 한다. 

운영체제가 프로세스를 새로 생성하면 비실행 상태로 초기화되어 실행을 기다린다. 실행 중인 프로세스가 종료되거나 인터럽트가 발생하면 비실행 프로세스 중 선택된 프로세스가 실행 상태로 변하고(디스패치) 인터럽트된 프로세스는 비실행 상태가 된다. 활동 중인 프로세스도 때로는 새로운 자원을 할당받기 위해 프로세서를 기다리는데 이때 프로세서를 할당받아야 계속 실행할 수 있다.

- 실행: 명령어가 실행되는 상태, 즉 프로세스가 프로세서를 점유한 상태

- 대기 또는 보류: 프로세서가 이벤트(입출력 종료와 같은 외부 신호)가 일어나기를 기다리는 상태

- 준비: 프로세스가 프로세서를 할당받으려고 기다리는 상태

프로세스 상태는 운영체제마다 다르게 표현하지만 의미하는 바는 같다. 여기서 중요한 것은 대부분의 프로세스는 준비나 대기(보류) 상태고 어느 한 순간에 한 프로세스만 실행 상태가 된다는 것이다.

---
### 프로세스 상태 변화
---
앞서 살펴본 바와 같이 하나의 프로세스는 시스템에서 준비,실행,대기(보류) 상태로 변화되면서 실행된다. 시스템의 모든 프로세스는 종료되어 시스템을 떠날 때까지 이 과정을 반복한다. 운영체제는 작업 스케줄러,프로세스 스케줄러 같은 프로세서 스케줄러를 이용해 프로세스 상태 변화를 관리한다.





















































